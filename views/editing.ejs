<!DOCTYPE html>
<html lang="ru">
<head>
    <%- include('./partials/head') %>

        <link rel="stylesheet" href="/module/quill/dist/quill.snow.css">
        <link rel="stylesheet" href="/styles/main-page-styles.css">
        <link rel="stylesheet" href="/styles/alerts.css">
        <link rel="stylesheet" href="/styles/text-editors.css">
        <link rel="stylesheet" href="/styles/editing-page-styles.css">
        <title>Редактирование</title>
</head>
<body>
    <div class="wrapper">
        <%- include('./partials/header') %>

        <main class="main">
            <div class="main_inner">
                <section class="editing-section">
                    <div class="nav-btn">
                        <a id="cancel-btn" href="/editor">
                            <svg viewBox="0 0 24 24" fill="rgb(146, 136, 255)">
                                <path d="M7.82843 10.9999H20V12.9999H7.82843L13.1924 18.3638L11.7782 19.778L4 11.9999L11.7782 4.22168L13.1924 5.63589L7.82843 10.9999Z"></path>
                            </svg>
                            Назад к редактору
                        </a>
                    </div>
                    <h1 class="mb-2" id="theme-title"><%= theme.title %></h1>
                    <form id="update-theme-form">
                        <div class="mb-3 update-theme-form-item d-flex flex-column">
                            <label for="title">Название</label>
                            <input type="text" value="<%= theme.title %>" name="title" id="title">
                        </div>
                        <div class="mb-3 update-theme-form-item d-flex flex-column">
                            <label for="description">Описание</label>
                            <input type="text" value="<%= theme.description %>" name="description" id="description">
                        </div>
                        <div class="mb-3 update-theme-form-item d-flex flex-column">
                            <label>Теория</label>
                            <div id="theory_editor"></div>
                        </div>
                        <div class="mb-3 update-theme-form-item d-flex flex-column">
                            <label>Практическое задание</label>
                            <div id="task_editor"></div>
                        </div>
                        <div class="update-theme-form-item form-actions">
                            <input type="hidden" value="<%= theme.theme_id %>" name="theme_id" id="theme_id">
                            <input type="submit" value="Сохранить">
                        </div>
                    </form>  
                </section>                
            </div>
        </main>

        <%- include('./partials/footer') %>
    </div>
    <script src="/module/quill/dist/quill.js"></script>
    <script src="/scripts/alerts.js"></script>
    <script src="/scripts/editing-page-script.js"></script>
    <script>
        theory_editor.clipboard.dangerouslyPasteHTML(`<%- theme.theory %>`);
        task_editor.clipboard.dangerouslyPasteHTML(`<%- theme.task %>`);
    </script>
</body>
</html>